= Atlan catalog integration
:last_updated: 10/10/23
:author: Naomi
:page-layout: default-cloud
:linkattrs:
:experimental:
:description: Use ThoughtSpot’s connection to Atlan to import column- and table-level metadata and surface the data in the Search data knowledge cards.
:jira: SCAL-158463, SCAL-169279, SCAL-205044, SCAL-213222

Use ThoughtSpot’s connection to Atlan to import column- and table-level metadata from Atlan, including column description, table description, column certificate status and table certificate status, and surface the data in the Search data knowledge cards.


To set up or edit a connection to Atlan, you must have *can manage catalog* permission. Once the metadata is imported, all users can see the metadata. Note, the user setting up the catalog connection can also configure which fields they want to display or hide on the column and table level knowledge cards in the Information panel display section. By default, all selected fields in the catalog connection process will be visible.

NOTE: You can only create a connection to a single data catalog at a time. If you connect to Atlan, for example, you cannot simultaneously connect to Alation.


== Prerequisites

To create a connection to Atlan, you will need the following information:

* API token
* Instance URL

To generate the API token from Atlan, follow these steps:

. Log in to Atlan and navigate to the *Admin* section.
. Click *API tokens*.
. Click *Generate API token*.
. Enter the token’s name and description, and select the expiry range from the drop-down menu.
. Click *Save*.
. Click *Copy* to copy the API token.
+
NOTE: Be sure to download and save this token for future use.




== Connect to Atlan

. Open the *Data* tab and navigate to *Data governance*.

. In the Atlan tile, click *Connect*.
+
image:atlan-connect.png[Connection to Atlan]

. Enter the following credentials:

* API token
* Instance URL (for example, `+https://thoughtspot-partner.atlan.com/+`)


. Click *Next*.
. Set a sync schedule to control how often your metadata updates from ThoughtSpot. The default is once a day. You can click the locale to change the sync schedule time zone.
+
image:atlan-sync.png[Create a sync schedule for Atlan]

. Click *Next*.

. Select the fields to import from the following:

* Table catalog description
* Column catalog description
* Table verification status
* Column verification status
+
image:atlan-metadata.png[Select metadata to sync from Atlan to ThoughtSpot]
+
NOTE: Table and column verification status are referred to as ‘certificate’ in Atlan. While syncing, ThoughtSpot checks for tables that match those already connected to ThoughtSpot and imports only metadata for those tables.

. Click *Save and sync*.
+
Once the sync is complete, you see the *Last sync* field update in the Atlan tile. The *Sync schedule* field displays the frequency with which ThoughtSpot will sync with Atlan.
+
image:atlan-data-governance.png[Atlan sync complete]

If the sync is taking a while, you can press the "Refresh" button to fetch the latest status.

== Edit a connection

You can edit catalog integration with Atlan to set off a sync immediately, edit your sync schedule, edit the metadata types imported to ThoughtSpot, or disconnect from Atlan.

To edit a connection with Atlan:

. Navigate to *Data* > *Data governance*.

. Click the more options icon image:icon-more-10px.png[icon] in the top right corner of the Atlan tile.
+
image:atlan-more-menu.png[Options for editing a Catalog sync]

. Select from the following:

* *Sync now* to set off a sync immediately
* *Edit sync schedule* to change the cadence of your sync
* *Edit metadata* to add or remove metadata fields from your sync
* *Disconnect* to disconnect from Atlan. If you disconnect from Atlan, all metadata fields imported from Atlan disappear from ThoughtSpot.


== Informational panel display

The informational panel display below the Atlan catalog tile allows you to manage the metadata brought in for columns and data sources.

Click *Manage columns* to decide whether to display the column description and column certificate status in ThoughtSpot.

Click *Manage data sources* to decide whether to display the table description and table certificate status in ThoughtSpot.

=== Troubleshooting connection or sync failure

If the connection to Atlan or the scheduled sync fails for any reason, a *View logs* field appears next to the *Last sync* status on the Atlan tile in *Data governance*. You can view and download the log file to better understand why the connection failed.

=== Surfacing information on knowledge cards

// This section should talk about how the table and column description/certificate status actually appear on the Search data knowledge cards. Please include images to make it explicit

Once synced to ThoughtSpot, Atlan metadata is displayed on the knowledge cards that appear when you click on a column from the Search Data page. The verification status displays one of the following options: *Verified*, *Draft*, *Deprecated*, or *No certificate*. The catalog description displays the description written in Atlan.

image::catalog-integration.png[Search Data page showing catalog information]
