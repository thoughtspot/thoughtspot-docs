= Sync data from ThoughtSpot to Salesforce
:last_updated: 11/15/2022
:linkattrs:
:experimental:
:page-layout: default-cloud
:description: You can connect ThoughtSpot to your Google account and push CSV tables and charts to Salesforce.



== Sync to Salesforce from an Answer

To create a sync to Salesforce from an Answer, follow these steps:

. Select the desired Answer from the *Answers* tab or the ThoughtSpot homepage. You must have *Can manage sync* permissions and *view* access to an Answer to create a sync.

. In the upper-right corner of the Answer, click the *more options* menu icon image:icon-more-10px.png[More options menu icon]. From the drop-down menu, select *Sync to other apps*, then choose *Salesforce*.
+
NOTE: You cannot create a sync from an unsaved Answer. If the *Sync to other apps* option appears grayed-out in the menu, first save the Answer before trying again.

. If this is the first sync you have created for Salesforce, a pop-up authorization window appears. To give ThoughtSpot permission to send data to your Salesforce account, click *Sign in with Salesforce*, select your account, and click *Allow*.



. Within ThoughtSpot, fill in the following parameters:

* Edit the *Pipeline name* if needed. By default, this field populates with _PL-[Answer Name]_.
* If you have more than one Salesforce destination set up, then the *Destination* field appears, and you will have to select a Salesforce destination from the drop-down available. However, if no destinations have been set up before or if you have only one Salesforce destination, the *Destination* field will not appear.
* Select your Salesforce *Object* from the drop-down menu.
* Select *Operation* from the drop-down menu. You can choose between *Insert* and *Upsert*.

* Map the *Source* and *Destination* columns from the drop-downs provided.
+
NOTE: If you select *Upsert* as the operation, the *External ID* option appears as well, to the left of the *Source* and *Destination* columns. This option is only clickable if the *Destination* column is unique (for example, `ID`). For the external ID column, the source column values will be looked up against the destination column values. For matches on that column, the existing records in Salesforce will be updated with the new source columns while records that don’t exist yet will be created and populated using the source column data.
+
image:ts-sync-salesforce-param.png[Salesforce Sync window]


. By default, “Save and sync” is selected. Select *Save* to send your data to Salesforce. Your data immediately appears in Salesforce.

NOTE: Any sync over 50,000 rows may result in an execution timeout. For optimal performance, keep your sync to below 50,000 rows. If you're syncing a large number of rows and the sync fails, try applying filters like date filters to make your dataset smaller and then sync.




== Sync to Salesforce from a Custom SQL View

To sync to Salesforce from a custom SQL view, follow these steps:

. Navigate to your SQL view by selecting the *Data* tab and searching from the Data Workspace home page. Select the SQL view name.

. In the upper-right corner, click the *more options* menu icon image:icon-more-10px.png[more options menu icon] and select *Sync to Salesforce*.

.  If this is the first sync you have created for the selected app, an authorization page appears. To give ThoughtSpot permission to send data to your Salesforce account, click *Sign in with Salesforce*, select your account, and click *Allow*.

. Fill in the following parameters:

* Edit the *Pipeline name* if needed. By default this field populates with _PL-[Answer Name]_.
* If you have more than one Salesforce destination set up, then the *Destination* field appears and you have to select a Salesforce destination from the drop-down available. However, if no destinations have been set up before or if you have only one Salesforce destination, the *Destination* field will not appear.
* Select *Object* from the drop-down menu.
* Select *Operation* from the drop-down menu. You can choose between *Insert* and *Upsert*.

* Map the *Source* and *Destination* columns from the drop-downs provided.
+
NOTE: If you select *Upsert* as the operation, the *External ID* option appears as well, to the left of the *Source* and *Destination* columns. This option is only clickable if the *Destination* column is unique (for example, `ID`). For the external ID column, the source column values will be looked up against the destination column values. For matches on that column, the existing records in Salesforce will be updated with the new source columns while records that don’t exist yet will be created and populated using the source column data.


. By default, “Sync and save” is selected. Select *Save* to send your data to Salesforce. Your data immediately appears in Salesforce.

NOTE: Any sync over 50,000 rows may result in an execution timeout. For optimal performance, keep your sync to below 50,000 rows. If you're syncing a large number of rows and the sync fails, try applying filters like date filters to make your dataset smaller and then sync.


=== Failure to sync

A sync to Salesforce can fail due to multiple reasons. If you experience a sync failure, consider the following causes:

* The underlying ThoughtSpot object was deleted.
* The underlying Salesforce object was deleted.
* The column name was changed in either ThoughtSpot or Salesforce, making it different to the column name setup in the mapping.
* There are data validation rules in Salesforce which only allow data with only a certain data type to be populated in the Salesforce fields, but the columns being mapped onto Salesforce from ThoughtSpot do not have the same or allowable data type.
* There is a mandatory field in Salesforce which has not been mapped onto as a destination column when setting up the mapping in ThoughtSpot.



== Sync to Salesforce from the Data Workspace

To create a sync to Salesforce from the Data Workspace, follow these steps:

. Select the *Data* tab.

. On the left menu bar, select *Sync*.

. Under the *Pipelines* tab, select “Create new pipeline”. Note that if you do not already have a destination created to the intended destination app, you first need to create one in the *Destinations* tab.



. Fill in the following parameters:

* Edit the *Pipeline name* if needed. By default this field populates with _PL-[Answer Name]_.
* All destinations available appear in the *Destination* drop-down.
* Select your *Source* data. Here you will pick an Answer or a custom SQL view to send through sync.
* Select *Object* from the drop-down menu.
* Select *Operation* from the drop-down menu. You can choose between *Insert* and *Upsert*.

* Map the source and destination columns from the drop-downs provided.
+
NOTE: If you select *Upsert* as the operation, the *External ID* option appears as well, to the left of the *Source* and *Destination* columns. This option is only clickable if the *Destination* column is unique (for example, `ID`). For the external ID column, the source column values will be looked up against the destination column values. For matches on that column, the existing records in Salesforce will be updated with the new source columns while records that don’t exist yet will be created and populated using the source column data.

.  By default, “Save and sync” is selected. Select *Save* to send your data to Salesforce. Your data immediately appears in Salesforce.

NOTE: Any sync over 50,000 rows may result in an execution timeout. For optimal performance, keep your sync to below 50,000 rows. If you're syncing a large number of rows and the sync fails, try applying filters like date filters to make your dataset smaller and then sync.


=== Failure to sync

A sync to Salesforce can fail due to multiple reasons. If you experience a sync failure, consider the following causes:

* The underlying ThoughtSpot object was deleted.
* The underlying Salesforce object was deleted.
* The column name was changed in either ThoughtSpot or Salesforce, making it different to the column name setup in the mapping.
* There are data validation rules in Salesforce which only allow data with only a certain data type to be populated in the Salesforce fields, but the columns being mapped onto Salesforce from ThoughtSpot do not have the same or allowable data type.
* There is a mandatory field in Salesforce which has not been mapped onto as a destination column when setting up the mapping in ThoughtSpot.

=== Manage pipelines

While you can also manage a pipeline from the *Pipelines* tab in the Data Workspace, accessing the *Manage pipelines* option from an Answer or view displays all pipelines local to that specific data object. To manage a pipeline from an Answer or view, follow these steps:

. Click the *more options* menu icon image:icon-more-10px.png[more options menu icon] and select *Manage pipelines*.

. Scroll to the name of your pipeline from the list that appears. Next to the pipeline name, select the *more options* icon image:icon-more-10px.png[more options menu icon]. From the list that appears, select:

* *Edit* to edit the pipeline’s properties. For example, for a pipeline to Google Sheets, you can edit the pipeline name, file name, sheet name, or cell number. Note that you cannot edit the source or destination of a pipeline.
* *Delete* to permanently delete the pipeline.
* *Sync now* to sync your Answer or view to the designated destination.
* *View run history* to see the pipeline’s Activity log in the Data Workspace.
+
image::ts-sync-manage-pipelines.png[More options menu for a pipeline]
