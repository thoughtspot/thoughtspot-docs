= Alation catalog integration
:last_updated: 9/11/24
:author: Naomi
:page-layout: default-cloud
:linkattrs:
:experimental:
:description: Use ThoughtSpot’s connection to Alation to import column- and table-level metadata and surface the data in the Search data knowledge cards.
:jira: SCAL-205044, SCAL-213222, SCAL-223848

Use ThoughtSpot’s connection to Alation to import column- and table-level metadata, including column description, table description, column verification status and table verification status, and surface the data in the Search data knowledge cards. To set up or edit a connection to Alation, you must have *can manage catalog* permission. Once the metadata is imported, all users can see the metadata. Note, the user setting up the catalog connection can also configure which fields they want to display or hide on the column and table level knowledge cards. By default, all selected fields in the catalog connection process will be visible.


image::catalog-integration.png[Search Data page showing catalog information]

NOTE: You can only create a connection to a single data catalog at a time. If you connect to Atlan, for example, you cannot simultaneously connect to Alation.

== Prerequisites

You can now connect to Alation using Service Account authentication or Token-based authentication. For each authentication type, you will need the following credentials:

Service Account::
* link:https://docs.alation.com/en/latest/welcome/CatalogBasics/RolesOverview.html[Catalog admins^] privilege
* Username and password used to log in to your Alation instance
* Instance URL

Token-based authentication::
* link:https://docs.alation.com/en/latest/welcome/CatalogBasics/RolesOverview.html[Catalog admins^] privilege
* API token, also known as refresh token
* Instance URL

=== API token and user ID for token-based authentication

To create an API token for token-based authentication, follow these steps:

. Navigate to `+https://<alation_instance>/account/auth/+`.
. Click on *Create Refresh Token*.
. Give the token a recognizable name under *Refresh Token Name* and click *Create Refresh Token*.
. Click the *Copy* button to copy the refresh token generated. Use this refresh token in the API token field within ThoughtSpot.

To find your user ID, browse to your user profile in your Alation instance. Copy the user ID from the URL: `+https://<alation_instance>/user/7/+`. Here, 7 would be the user ID.




== Connect to Alation

. Open the *Data* tab and navigate to *Data governance*.

. In the Alation tile, click *Connect*.
+
image:alation-connect.png[Connection to Alation]

. Under *Authentication type*, select *Service Account* or *Auth Token*.

. For Service Account, enter the following credentials:

* User name
* Password
* Instance URL (for example, `+https://connector.alationcatalog.com/+`)

. For Auth Token, enter the following credentials:

* API token
* User ID
* Instance URL (for example, `+https://connector.alationcatalog.com/+`)


. Click *Next*.
. Set a sync schedule to control how often your metadata updates from ThoughtSpot. The default is once a day. You can click the locale to change the sync schedule time zone.
+
image:alation-sync.png[Create a sync schedule for Alation]

. Click *Next*.

. Select the fields to import from the following:

* Table description
* Column description
* Table trustcheck
* Column trustcheck
+
image:alation-metadata.png[Select metadata to sync from Alation to ThoughtSpot]
+
NOTE: In this context, trustcheck signifies verification status. While syncing, ThoughtSpot checks for tables that match those already connected to ThoughtSpot and imports only metadata for those tables.

. Click *Save and sync*.
+
Once the sync is complete, you see the *Last sync* field update in the Alation tile. The *Sync schedule* field displays the frequency with which ThoughtSpot will sync with Alation.
+
image:alation-data-governance.png[Alation sync complete]

If the sync is taking a while, you can press the "Refresh" button to fetch the latest status.

== Edit a connection

You can edit catalog integration with Alation to set off a sync immediately, edit your sync schedule, edit the metadata types imported to ThoughtSpot, or disconnect from Alation.

To edit a connection with Alation:

. Navigate to *Data* > *Data governance*.

. Click the more options icon image:icon-more-10px.png[icon] in the top right corner of the Alation tile.
+
image:alation-more-menu.png[Options for editing a Catalog sync]

. Select from the following:

* *Sync now* to set off a sync immediately
* *Edit sync schedule* to change the cadence of your sync
* *Edit metadata* to add or remove metadata fields from your sync
* *Disconnect* to disconnect from Alation. If you disconnect from Alation, all metadata fields imported from Alation disappear from ThoughtSpot.


== Informational panel display

The informational panel display below the Alation catalog tile allows you to manage the metadata brought in for columns and data sources.

Click *Manage columns* to decide whether to display the column description and column trustcheck in ThoughtSpot.

Click *Manage data sources* to decide whether to display the table description and table trustcheck in ThoughtSpot.

=== Troubleshooting connection or sync failure

If the connection to Alation or the scheduled sync fails for any reason, a *View logs* field appears next to the *Last sync* status on the Alation tile in *Data governance*. You can view and download the log file to better understand why the connection failed.
