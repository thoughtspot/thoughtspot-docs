= Enabling an AWS PrivateLink between ThoughtSpot Cloud and your {connection} data warehouse
:last_updated: 3/16/2021
:linkattrs:
:experimental:
:page-layout: default-cloud
:page-aliases: /admin/ts-cloud/private-link-snowflake.adoc
:description: Learn how to deploy an AWS PrivateLink between your Snowflake data warehouse and the ThoughtSpot Cloud tenant.
:connection: Snowflake

include::partial$private-link-intro.adoc[]

This article details how to enable a PrivateLink for *{connection}*;
to enable it for other data warehouses, refer to:

* xref:connections-redshift-private-link.adoc[Amazon Redshift PrivateLink]
* xref:connections-databricks-private-link.adoc[Databricks PrivateLink]
* xref:connections-denodo-private-link.adoc[Denodo PrivateLink]
* xref:connections-dremio-private-link.adoc[Dremio PrivateLink]
* xref:connections-adw-private-link.adoc[Oracle PrivateLink]
* xref:connections-hana-private-link.adoc[SAP HANA PrivateLink]
* xref:connections-starburst-private-link.adoc[Starburst PrivateLink]
* xref:connections-teradata-private-link.adoc[Teradata PrivateLink]

NOTE: You can only enable one PrivateLink for each cluster.

To deploy an AWS PrivateLink, you must work with https://community.thoughtspot.com/customers/s/contactsupport[ThoughtSpot Support] and follow the procedure in this article.

[#prerequisites]
== Prerequisites

* You must have a {connection} account
* The ThoughtSpot cluster must be in the same AWS region as your {connection} account
* You must obtain the ThoughtSpot AWS Account ID from https://community.thoughtspot.com/customers/s/contactsupport[ThoughtSpot Support]. This is required for step 1 of <<request-configuration,Request Snowflake PrivateLink configuration>>. For example: `999999999999`

== Enable an AWS PrivateLink for {connection}

To deploy an AWS PrivateLink between your {connection} data warehouse and the ThoughtSpot Cloud tenant, follow these steps.

. <<request-configuration,Request {connection} PrivateLink configuration>>
. <<exchange-information,Exchange AWS and ThoughtSpot information with ThoughtSpot Support>>
. <<embrace,Configure Connections>>

[#request-configuration]
=== Request {connection} PrivateLink configuration

. Send a support request to {connection}, asking them to configure an AWS PrivateLink.
You must provide the following information:
+
--
* {connection} account URL
* ThoughtSpot AWS Account ID.
You obtained ThoughtSpot's AWS Account ID from https://community.thoughtspot.com/customers/s/contactsupport[ThoughtSpot Support] in the <<prerequisites,prerequisites>>.
--
+
NOTE: Snowflake support must configure the AWS PrivateLink. Snowflake's self-service PrivateLink feature does not support third-party PrivateLink integrations, including the integration with ThoughtSpot.

. After {connection} completes the PrivateLink configuration on the {connection} side, run the following command in your Snowflake environment. This command retrieves the *VPC Endpoint Service Name* and *Private DNS records required for {connection} clients* that you must send to ThoughtSpot Support.
+
[source,bash]
----
select system$get_privatelink_config();
----
+
Refer to the Snowflake documentation for additional information on the specific URLs you need: https://docs.snowflake.com/en/user-guide/admin-security-privatelink.html#creating-additional-cname-records[AWS PrivateLink & Snowflake^].

[#exchange-information]
=== Exchange AWS and ThoughtSpot information with ThoughtSpot Support

. Send the *account name* from the DNS records and the *Service name* to ThoughtSpot Support.
You gathered this information from {connection} in step 2 of <<request-configuration,Request {connection} PrivateLink configuration>>.
. After ThoughtSpot Support configures the AWS PrivateLink in ThoughtSpot, ask them to send you the PrivateLink {connection} account name.

[#embrace]
=== Configure Connections

xref:connections-snowflake.adoc[Configure Connections for {connection}], using the PrivateLink {connection} account name from ThoughtSpot Support for the *Account name* field. For example, `xyz99999.us-west-2.privatelink`.
