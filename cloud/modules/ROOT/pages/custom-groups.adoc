= Query sets
:last_updated: 6/28/23
:author: Naomi
:linkattrs:
:page-layout: default-cloud-beta
:experimental:
:description: You can now create custom query sets, which can be used to classify values in a list you can then reuse across multiple analyses.

You can create custom sets, which can be used to classify values in a list that you can then reuse across multiple analyses. Answer, formulas and parameters are generally available only when in use in an Answer, and must be remade if you navigate away from the Answer without saving. Sets are reusable across many answers with a single point of definition. A Set is built from a Worksheet however it does not belong to the Worksheet. When a set is initially created it is only available to the creator. When a set is used in an Answer or Liveboard, and this Answer or Liveboard is shared with specific users or groups of users, the set is then available for use as a community object.

ThoughtSpot now supports query sets.


NOTE: Custom query sets are in beta and off by default. The early access version of query sets is focused on query generation and reuse. To enable this feature, contact {support-url}.

To create a query set, first define the business question you wish to answer. For example, you may have a data set containing the complete list of products available from a certain chain of stores. You may want to find out which products are most popular, and define them by sales volume as "gold", "silver", or "bronze" level products. To create a column showcasing this defined list of values, follow these steps:

. Navigate to the *Search Data* page by clicking the *Search data* button in the top navigation bar.

. Ensure you are searching on the correct Worksheet, and select the *Product* column from the left side bar, or type the word into the Search bar. To see the quantity purchased by product, select *Quantity purchased* and click the *Go* button or press *Enter*.

. Create a formula, named Quantity Purchased Range, to define ranges of quantities purchased as Gold, Silver, or Bronze. You can define it as `if ( sum(quantity purchased) > 80000) then 'gold' else if (sum(quantity purchased) > 60000) then 'silver' else 'bronze'`.

. Click *Save*. Check the table that appears to make sure the results are as expected.

. Simplify the search to show only the *Product* column.

. From the *more options* menu image:icon-more-10px.png[more options icon], select *Save as query set*.

. In the *Save query set* window, fill out the following fields:
.. Name: Name your query set something meaningful.
.. Description: Describe what this query set represents.
.. Anchor column: Select the column you are using as the base of your list of values. In this example, *Products*.
.. Return column: For some use cases, you will want to select the same column as the anchor column. In this case, select the definition you want the column to return, based on the criteria you defined in the formula. In this example, *Quantity Purchased Range*.
.. Default group for all other values: This option is only necessary if you used a filter on the anchor column to take out unwanted values. In this example there are no unwanted values, so you can leave it blank.

. Click *Save*.
