= Create a formula in a Model
:last_updated: 7/31/2025
:linkattrs:
:experimental:
:page-layout: default-cloud-deprecated
:page-aliases: /admin/worksheets/create-formula.adoc
:description: You can define formulas and use them to create derived columns in Models.
:jira: SCAL-173230, SCAL-264258


You create formulas by combining standard functions and operators, column names, and constant values.

Anyone who can create a Model can add a formula to it.
Formulas are not reusable;
the formula you create is associated only with the Model it belongs to.
A complete list of available formulas and examples of each is available in the xref:formula-reference.adoc#[Formula function reference].

You can create a formula in a Model by using the Formula Builder.
When you do this, the result of the formula gets added to the Model as a column.
Use these steps to create a formula:

. xref:models.adoc[Create a new Model].
. Select *Formulas* from the top menu and click *Add formula*.
+
image::model-add-formula.png[Create a new formula for your Model]

. Type your formula in the Formula Editor.
+
[.bordered]
image::model-formula.png[Use the Formula Editor]
+
NOTE: Formula elements are color coded by type and can include the formula operators and functions (blue), the names of columns (purple), and/or constants (black).


. If you want to change what your formula returns, use the *Advanced settings* image:icon-gear-10px.png[gear icon].
+
Depending on your formula, you may be able to change:

 ** *Data type*: Determines the type of data that the formula generates.
For example, use `date` for an `add_days` formula.
 ** *Measure or attribute*: Determines if the output of the formula is a measure or an attribute.
For example, choose `attribute` for a formula that generates age groups, and choose `measure` for a formula that generates profit.
 ** *Default Aggregation*: Determines the default aggregation of the formula output.
For example, choose `min` to see minimum profit.

+
image::model-formula-settings.png[Advanced settings in the Formula Editor]

. Name the formula by selecting on its title and typing the new name.
Select *Save*.
+
TIP: For examples of how to use the `TS_GROUPS` variable as a LIST TYPE, see xref:rls-rule-builder-reference.adoc#ts-groups-list[Examples of ts_groups as a list type].

'''
> **Related information**
>
> * xref:model-filter.adoc[Create a Model filter]
> * xref:model-progressive-joins.adoc[How the Model join rule works]
> * xref:worksheet-inclusion.adoc[Create join rule or RLS for a Model]
> * xref:join-add.adoc[Create a join relationship]
> * xref:join-worksheet-edit.adoc[Modify joins between Model tables]
> * xref:model-delete.adoc[Delete Models or tables]
> * xref:scriptability.adoc[Migrate or restore Models]
