= Migrating Snowflake connections from Service Account to Key Pair authentication
:last_updated: 4/25/25
:author: Naomi
:linkattrs:
:experimental:
:page-layout: default-cloud
:description: Follow these steps to migrate your Snowflake account from Service Account to Key Pair authentication.
:connection: Snowflake
:jira: SCAL-247865

Service accounts using Username/Password must be set in {connection} as a "LEGACY_SERVICE" account, and must be moved over to Key Pair authentication by November 2025, per link:https://www.snowflake.com/en/blog/blocking-single-factor-password-authentification/[Snowflake].

To migrate from Service Account to Key Pair authentication, follow these steps:

. Follow link:https://docs.snowflake.com/en/user-guide/key-pair-auth#generate-the-private-key[this guide] to generate key pair values. ThoughtSpot supports both encrypted and non-encrypted keys.

. Navigate to the Data workspace and select *Connections* from the left menu. Select the desired {connection} connection that is currently authenticated using a password-based service account.
+
[.bordered]
image::snowflake-migrate-edit.png[Open the Snowflake connection view and select the Edit connection button.]

. Select *Edit connection*. The *Select tables* page appears. Click *Back*.
+
[.bordered]
image::snowflake-migrate-table.png[Select Back from the top bar.]

. The *Snowflake connection details* page appears.
+
[.bordered]
image::snowflake-migrate-sa.png[Service Account connection details appear.]

. Click *Service Account* and select *Key Pair* from the dropdown.
+
[.bordered]
image::snowflake-migrate-kp.png[Select Key Pair and fill out the connection details.]

. Enter the required authentication details:

.. Account name
.. User (Enter the recently created service account user.)
.. Private key (Reference the rsa_key.p8 file you created in {connection}. Include the private key delimiters.)
.. Passphrase (Mandatory if your key is encrypted.)
.. Role
.. Warehouse
.. Database

. Click *Continue*, then click *Save*.