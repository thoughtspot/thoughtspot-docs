= {spotapp}
:last_updated: 6/13/2022
:experimental:
:linkattrs:
:page-layout: default-cloud
:description: Deploy the Salesforce Pipeline Analysis SpotApp, an out-of-the-box solution template built specifically for Salesforce.
:spotapp: Salesforce Pipeline Analysis SpotApp
:application: Salesforce

include::partial$spotapps-intro.adoc[]

This is a sample Liveboard, created after you deploy the {spotapp}:

image::spotapp-salesforce-liveboard.png[Salesforce SpotApp Liveboard]

Use the {spotapp} to track how prospects progress closer to closed deals.

[#prerequisites]
== Prerequisites
Before you can deploy the {spotapp}, you must complete the following prerequisites:

include::partial$spotapp-prereqs-general.adoc[]

* Administrator access to {application}
* Access to the following {application} tables and worksheets in your cloud data warehouse. Refer to <<schema,{spotapp} schema>> for more details.
** ACCOUNT (table)
** OPPORTUNITY (table)
** OPPORTUNITY_HISTORY (table)
** OPPORTUNITY_STAGE (table)
** USER (table)
** CURRENCY_TYPE (table)
** Salesforce (worksheet)
* Run the required SQL commands in your cloud data warehouse. Refer to <<sql,Run SQL commands>>.

[#sql]
=== Run SQL commands
Run the following SQL commands on your cloud data warehouse instance. The commands create 5 views in your cloud data warehouse schema. Create the views in one common database. Replace any parts of the script that say `database_name` with your specific database name, and replace `schema_name` with your specific schema name.

NOTE: The following SQL example is for the Snowflake cloud data warehouse. You may need to modify the code for the SQL requirements of your specific cloud data warehouse.

SQL commands:
[%collapsible]
.Click on the dropdown to view the SQL commands.
====
--
include::partial$salesforce-sql-script.adoc[]
--
====

include::partial$spotapp-deploy-individual.adoc[]

== {spotapp} schema

The following table describes the schema for the {spotapp}.

[#schema]
|===
| Table |Column | Column type | Required column

| ACCOUNT| ID| VARCHAR| N
| ACCOUNT| IS_DELETED| BOOL| N
| ACCOUNT| NAME| VARCHAR| Y
| ACCOUNT| TYPE| VARCHAR| N
| ACCOUNT| INDUSTRY| VARCHAR| N
| ACCOUNT| ANNUAL_REVENUE| INT64| N
| ACCOUNT| NUMBER_OF_EMPLOYEES| INT64| N
| ACCOUNT| REGION| VARCHAR| N
| CURRENCY_TYPE | ISO_CODE | VARCHAR | Y
| CURRENCY_TYPE | CONVERSION_RATE | DOUBLE | Y
| OPPORTUNITY| STAGE_NAME| VARCHAR| Y
| OPPORTUNITY| ACCOUNT_ID| VARCHAR| Y
| OPPORTUNITY| NAME| VARCHAR| Y
| OPPORTUNITY| AMOUNT| DOUBLE| Y
| OPPORTUNITY| EXPECTED_REVENUE| DOUBLE| N
| OPPORTUNITY| TOTAL_OPPORTUNITY_QUANTITY| DOUBLE| N
| OPPORTUNITY| CLOSE_DATE| DATE| Y
| OPPORTUNITY| TYPE| VARCHAR| Y
| OPPORTUNITY| CAMPAIGN_ID| VARCHAR| N
| OPPORTUNITY| CREATED_DATE| DATE_TIME| Y
| OPPORTUNITY| FORECAST_CATEGORY| VARCHAR| N
| OPPORTUNITY| ID| VARCHAR| Y
| OPPORTUNITY| OWNER_ID| VARCHAR| Y
| OPPORTUNITY| LEAD_SOURCE| VARCHAR| N
| OPPORTUNITY_HISTORY| FORECAST_CATEGORY| VARCHAR| N
| OPPORTUNITY_HISTORY| OPPORTUNITY_ID| VARCHAR| Y
| OPPORTUNITY_HISTORY| STAGE_NAME| VARCHAR| Y
| OPPORTUNITY_STAGE| IS_ACTIVE| BOOL| Y
| OPPORTUNITY_STAGE| IS_CLOSED| BOOL| Y
| OPPORTUNITY_STAGE| API_NAME| VARCHAR| Y
| OPPORTUNITY_STAGE| IS_WON| BOOL| Y
| USER| NAME| VARCHAR| Y
| USER| COMPANY_NAME| VARCHAR| N
| USER| ID| VARCHAR| Y
|===