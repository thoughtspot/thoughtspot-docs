= Snippets
:last_updated: 8/26/22
:author: Naomi
:linkattrs:
:experimental:
:page-layout: default-seekwell
:description: Snippets let you share small, reusable bits of SQL with your team.


// Compose (SQL editor)

== Introduction

Snippets allow you to share small, reusable bits of SQL with your team.

== Demo

video::KwUyIdkBPt0[youtube]

=== Creating your first Snippet

To create a snippet, select kbd:[`command`] / kbd:[`control`] + kbd:[`k`], and search for "Create snippet".

Working with dates is a good example. Consider this snippet we use at {seekwell} which creates three date formats from a `timestamp`.

[source]
----
date_trunc('day', {{column_name}})::date as "{{alias}}_day",
date_trunc('week', {{column_name}})::date as "{{alias}}_week",
date_trunc('month', {{column_name}})::date as "{{alias}}_month"
----

image::snippets.png[Created on date]

Once you type `{{`, you'll see the variable added to "Defaults". Here you can add a commonly used value for the variable (for example, `created_on`).

TIP: Variables are optional, not adding variables will create a "static snippet".

== Navigation

* To create a snippet, select kbd:[`command`] / kbd:[`control`] + kbd:[`k`], and type "Create snippet".
* To use a snippet from a block, select kbd:[`command`] / kbd:[`control`] + kbd:[`;`] (semicolon).
* To view / edit / delete your snippets, select kbd:[`command`] / kbd:[`control`] + kbd:[`k`], and type "View snippet".
+
image:sql-snippets.png[View snippets]

== Library

=== SnippetLibrary

[options="header",cols="40%,20%,40%"]
|===
| Name | Tags | SQL

a| addSubSelect |
`ansi` a|

[source]
----
(select
{{group_by_col}},
max({{max_col}}) max_{{max_col}}
from
{{table}}
group by 1) as max_{{table}}
----

a| dayWeekMonth | `postgres` a|
[source]
----
date_trunc('day', {{column_name}})::date::text as "{{alias}}_day",
date_trunc('week', {{column_name}})::date::text as "{{alias}}_week",
date_trunc('month', {{column_name}})::date::text as "{{alias}}_month"
----

a| addWith | `postgres` a|
[source]
----
with {{alias}} as (
select
from {{table_name}}
)
----

| Days between two dates | `postgres` a|
[source]
----
now()::date - some_date::date
----
|===

Suggest a snippet link:mailto:contact@seekwell.io[here].

== Related information

* link:https://wiki.postgresql.org/wiki/Date_and_Time_dimensions[Postgres date snippets,window=_blank]
* link:https://dev.mysql.com/doc/refman/5.7/en/date-and-time-functions.html[MySQL date snippets,window=_blank]
* link:https://docs.snowflake.com/en/sql-reference/functions-date-time.html[Snowflake date snippets,window=_blank]
