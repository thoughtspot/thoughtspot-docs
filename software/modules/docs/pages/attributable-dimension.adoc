= Change the Attribution Dimension
:linkattrs:

The Attribution Dimension setting applies only to tables that are related through a chasm trap.
If your schema does not include these, you can ignore this setting.

The *Attribution Dimension* setting only applies to tables that join over a xref:chasm-trap.adoc[Chasm Trap].
By default, the attribution dimension setting will be set to `YES`, but you can override that by setting the column's attribution dimension property to `NO`, as described here.

== Understand chasm traps and attribute dimension

In the classic chasm trap, two fact tables are related through a shared dimension table.
When the two fact tables are joined, the shared column(s) in the dimension table are used to attribute rows in one fact table to match with rows in the other fact table.

Usually, all goes well using this method.
But sometimes an incorrect or illogical attribution can result.
This can happen because the column chosen is not meaningful for performing this attribution.
If you are seeing unexpected results in searches that include tables across a chasm trap, this setting is for you.

Below is an example of a column that is not an attribution dimension.
Suppose you have two fact tables, Wholesale Purchases and Retail Sales, that share a common dimension Date.

image::NOT_attribution_dim.png[]

In this example, the date column in the Date dimension should not be used for attribution, since unrelated rows in both of the fact tables could share the same row in the Date table.
Why?
Because if Sally bought oranges wholesale on April 25, 2005 and made a retail sale of apples on the same day, there is no logical relationship between those two events.
Combining the two events using the date they share will not create any meaningful information.

If matching rows in two fact tables over a chasm trap depends on the values in a column contained in a dimension table, that column is known as an attribution dimension.

image::image-filename.ext[]

In this example, the Product ID column in the Products dimension table is an attribution dimension.
For rows where the Product ID in the Wholesale Purchases and in the Retail Sales tables is a match, those rows are logically related in a meaningful way.
They can be combined in charts and reports to produce a logical, expected outcome.

== How to set attribute dimension

You cannot configure this setting in the model file.
You can only configure it on a table-by-table basis.
To designate a column as not being an attribution dimension (not producing any meaningful attribution across a chasm trap):

. Navigate to the dimension table you would like to edit.
Note that you do not need to set the Attribution Dimension for fact tables.
. Find the column that is not an attribution dimension.
Since the Attribution Dimension is a table-wide setting, you only need to turn it off on one column.
As a best practice, use the primary key.
. Select its *Attribution Dimension*.
. Set the value to `NO`.
. Save your changes.

== Additional resources

As you develop your expertise in data modeling and the Attribution Dimension setting, we recommend the following ThoughtSpot Community article:

* https://community.thoughtspot.com/customers/s/article/What-is-Attribution-and-Chasm-Traps?[What are Chasm Traps, and What is Attribution?]

See other training resources at:
+
https://community.thoughtspot.com/s/[ThoughtSpot Community, window=_blank]

== Related information

xref:about-data-modeling-intro.adoc[Model the data for searching]
