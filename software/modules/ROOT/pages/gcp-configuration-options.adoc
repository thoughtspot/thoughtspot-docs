= GCP configuration options
:last_updated: 8/31/2021
:experimental:
:linkattrs:

ThoughtSpot can be deployed using several different GCP instance types. ThoughtSpot can be deployed in your GCP environment by deploying compute (VM) instances in your VPC, as well as an underlying persistent storage infrastructure. Our recommendations for instance types differ, depending on whether you are accessing your data by loading it into ThoughtSpot's <<in-memory,in-memory database>>, or if you are connecting to your data in a <<connections,cloud data warehouse>>. Currently two configuration modes are supported by ThoughtSpot:

Mode 1:: Compute VMs
+
SSD Persistent Disk storage-only
Mode 2:: Compute VMs
+
SSD Persistent Disk and Google Cloud Storage (GCS).

For more information about Persistent Storage, see https://cloud.google.com/compute/docs/disks/#pdspecs[Zonal Persistent SSD disks] in Google's Cloud documentation.

For more information about Google Cloud Storage, see https://cloud.google.com/compute/docs/disks/#gcsbuckets[Cloud Storage Buckets] in Google's Cloud documentation.

All GCP VMs (nodes) in a ThoughtSpot cluster must be in the same zone (and, therefore, also in the same region).
ThoughtSpot does not support deploying VMs (nodes) of the same cluster across different zones.
For more information, see https://cloud.google.com/compute/docs/regions-zones/[Regions and Zones] in Google's Cloud documentation.

== ThoughtSpot GCP instance types

When choosing an instance type, ensure that it uses Intel CPUs. Our recommendations for instance types differ, depending on whether you are accessing your data by loading it into ThoughtSpot's <<in-memory,in-memory database>>, or if you are connecting to your data in a <<connections,cloud data warehouse>>.

[#in-memory]
=== Instance types for in-memory data

[#vms-with-persistent-disk-only-storage-in-memory]
==== VMs with Persistent Disk-only storage

image::persistent-storage-ssd.svg[]

include::partial$gcp-persistent-only-storage.adoc[]

[#vms-with-persistent-disk-and-google-cloud-storage-in-memory]
==== VMs with Persistent Disk and Google Cloud storage

image::persistent-storage-ssd-gcs.svg[]

include::partial$gcp-persistent-cloud-storage.adoc[]

For most instances, the per VM recommended user data capacity is set at 50% of the available RAM on the instance.
However, in the case of our 16CPU/122GB RAM and 32CPU/208GB RAM instances, we support user data sizes below those numbers to budget for application overhead.

[#connections]
=== Instance types for cloud data warehouse connections

[#vms-with-persistent-disk-only-storage-connections]
==== VMs with Persistent Disk-only storage

include::partial$gcp-persistent-only-storage-connections.adoc[]

[#vms-with-persistent-disk-and-google-cloud-storage-connections]
==== VMs with Persistent Disk and Google Cloud storage

include::partial$gcp-persistent-cloud-storage-connections.adoc[]
