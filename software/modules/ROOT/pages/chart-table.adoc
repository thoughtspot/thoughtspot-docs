= Results that are tables
:last_updated: 5/10/2022
:experimental:
:linkattrs:
:page-partial:
:page-aliases: /end-user/search/about-tables.adoc

include::partial$liveboards-announcement.adoc[]

NOTE: Certain elements of table configuration are part of the xref:answer-experience-new.adoc[new answer experience]. The new answer experience is on by default, and the option to turn it on or off individually is also on by default. These new elements include conditional and number formatting for table summaries, improved conditional formatting for attributes and measures in table cells, conditional formatting for measures in pivot tables, content density, and theme (outline, row, or zebra). If the new answer experience is off, you do not see these capabilities. You can turn it on or off individually from the *Experience manager* panel in xref:user-profile.adoc#new-answer-experience[your profile]. If that option is not available, contact your administrator.

Tables display your answer in a format similar to an Excel spreadsheet.

In the table view, your search identifies attributes and/or columns, and presents them as a table.
ThoughtSpot aggregates the results based on the level of aggregation that you specify in the search.
For example, if you only type `revenue`, you see the total sum of revenue as a single number.
If you include the keyword `monthly`, the results are broken down by month.
From the column header, you can rename the column, or sort or filter the column.
You can rearrange the column order of your table by dragging and dropping the columns, either from the table itself or from the *Edit table: Configure* menu.
You can also change the column widths.

== Rearrange column order

You can rearrange the column order of your table after adding all of your search terms.

To rearrange the column order:

. While viewing your answer as a table, click the column header you would like to move.
. Drag it across to its new position.

You can also rearrange the column order from the *Edit table: Configure* menu.
Click the *edit table configuration* icon image:icon-gear-10px.png[].
Drag and drop the attribute or measure that you would like to move to a new position.
The order of columns in the *Configure* menu reflects the column order of the table.

image::table-config-drag-drop.gif[Drag and drop gif]

== Resize column widths

You can resize the column widths of your table after adding all of your search terms.
Any adjustments you make to the column widths of your table are saved when you pin the table to a Liveboard.
To resize the column widths:

. While viewing your answer as a table, hover over a column border in the column header row.
. Click and drag the border to create your preferred column width.

[#clip-wrap-text]
== Clip or wrap text

You can clip or wrap long text in a table cell, or on a table header.
You can configure clipped or wrapped text <<clip-entire-table,for the entire table>>, or <<clip-one-column,for each column individually>>.

When you clip long text, the table cells show only the beginning of the text.
The rest appears if you increase the column width.

When you wrap long text, the table shows all the text in its cells by increasing the number of lines in the cells.

To clip or wrap text for the entire table, click the *edit table configuration* icon image:icon-gear-10px.png[].
Select *Settings*.
Under *text wrapping*, choose *wrap* or *clip*.
[#clip-entire-table]
image::table-config-text.gif[Wrap or clip long text]

To clip or wrap text for each column individually, hover over the column name and click the *more options menu* icon image:icon-more-10px.png[].
Select *text wrapping,* and choose wrap or clip.
[#clip-one-column]
image::table-config-clip-individual-column.png[Clip or wrap an individual column]

[#number-formatting]
== Number formatting

You can format the numbers in any table column or column summary based on a measure.
This functionality allows you to change the *category* (number, percentage, or currency), *units* (auto, none, thousand, million, billion, or trillion), or method of writing *negative values* (-1234, 1234-, or (1234)).

NOTE: When you change the formatting for a column, you do not change the formatting for its column summary. You must separately change the number formatting for column summaries.

To change the number formatting:

. Click the *edit table configuration* icon image:icon-gear-10px.png[] to the upper right of your table.
The *Edit table* panel appears, on the *Configure* menu.
. Select the column you want to format the values of, or the column whose column summary you would like to format.
+
image::table-config-edit-measure.png[Select a measure]
+
The *Edit* panel for that column appears. To format the column summary, select *Summary*.
+
You can also reach this panel from the *more* icon that appears when you hover over a column name:
+
image::table-config-number-formatting-from-column.png[Click number formatting]
+
On the table, the column that you are editing is highlighted in a blue box.
+
image::table-config-edit-panel.png[The edit panel]

. Under *number formatting*, you can edit the category, units, or method of writing negative values.
Click the dropdown menus to select new values.
. Specify a *category*: _number_, _percentage_, or _currency_.
If you select *currency*, you can select the type of currency: USD, AUD, EUR, and so on.
If you do not pick a category, ThoughtSpot automatically picks the best category for your data.
. Specify *units*: Select _none_ to see your data down to two decimal points, for example, or select _millions_ to see labels rounded to the millions.
If you do not specify units, ThoughtSpot automatically picks the best units for your data.
+
Depending on the unit, you can also specify the number of decimal places, and remove or include the thousand separator.
+
image::table-config-unit.png[Unit, decimal places, thousand separator]

. Specify the method for writing *negative values*: -1234, 1234-, or (1234).
The default is -1234.
+
image::table-config-number-formatting.gif[Number formatting gif]

== Conditional formatting
You can perform conditional formatting on both measures and attributes, within table cells and in the table summaries.

Refer to xref:search-conditional-formatting.adoc[Apply conditional formatting].

Note that certain elements of conditional formatting are part of the xref:answer-experience-new.adoc[new answer experience]. These elements include conditional formatting for table summaries and improved conditional formatting for attributes and measures in table cells. The new answer experience is on by default. You can toggle it on or off from the *Experience manager* in xref:user-profile.adoc[your profile]. If that option is not available, contact your administrator.

== Sort columns

You can sort a table by column values by clicking on the column title.
If you hold down the kbd:[SHIFT] key, you can sort on multiple column titles at a time.
This is especially useful for date columns.
For example, if you search for `sales` by `week` and by `quarter`,  and just sort the `quarterly` column, the weeks are not in order:

image::sort-one-column.png[Sort - quarterly]

If you press kbd:[SHIFT] and then click on the `weekly` column header, the weeks are in order, by quarter:

image::sort-two-columns.png[Sort - weekly]

You can achieve this from the search bar, as well, by adding `sort by date quarterly` and `sort by date weekly`.

TIP: This same functionality is available on tables you see elsewhere in ThoughtSpot.
For example, a table in the *Data* page is also sortable in this manner.

== Table footer

Tables automatically have footers that tell you the number of rows the table has.
You can enable or disable this footer from the *Settings* menu.

. Click the *edit table configuration* icon image:icon-gear-10px.png[] to the upper right of your table.
The *Edit table* panel appears, on the *Configure* menu.
. Select *Settings*.
. Select *table footer* to enable or disable it.
+
image::table-config-footer.png[Enable or disable table footer]

[#content-density]
== Content density
Content density is part of the xref:answer-experience-new.adoc[new answer experience]. You can view more table rows at a time by changing the content density. You can change the content density from the Settings menu.

. Click the *edit table configuration* icon image:icon-gear-10px.png[gear icon] to the upper right of your table. The *Edit table* panel appears, on the *Configure* menu.

. Select *Settings*.

. Under *Content density*, select *regular* or *compact*.
+
image::table-content-density.png[Choose regular or compact content density]

[#table-theme]
== Table theme
Table themes are part of the xref:answer-experience-new.adoc[new answer experience]. You can change the table theme from the default (outline) to *row* or *zebra*. You can change the table theme from the *Settings* menu. *Row* removes the lines between columns, and *zebra* changes the color of every other row.

. Click the *edit table configuration* icon image:icon-gear-10px.png[gear icon] to the upper right of your table. The *Edit table* panel appears, on the *Configure* menu.

. Select *Settings*.

. Under *Table theme*, select *outline*, *row*, or *zebra*.
+
image::table-theme.png[Choose outline, row, or zebra]

== Column summaries

For columns with numeric information, you can turn on *column summaries* that display column totals. You can perform number and conditional formatting on column summaries, just like you can for column values.

=== Enable or disable column summaries
. Click the *edit table configuration* icon image:icon-gear-10px.png[] to the upper right of your table.
The *Edit table* panel appears, on the *Configure* menu.
. Select *Settings*.
. Select *column summary* to enable or disable column summaries for your table. You can also enable or disable individual column summaries, from the *Summary* section in a column’s *Edit* image:icon-gear-10px.png[edit icon] panel.
+
image::table-config-summary-global.png[Enable or disable column summaries for the whole table]
image::table-config-summary-individual.png[Enable or disable column summaries for one column]

Column summaries are not available for tables with more than 15000 rows, unless the data comes from a xref:connections.adoc[direct connection to the external database].

If you are using the xref:answer-experience-new.adoc[new answer experience], and your query generates more than 15,000 distinct table rows, the column summary shows a dash instead of a number, and tells you to use a filter to reduce the number of rows.

=== Pin column summaries
You can pin column summaries to any Liveboard. Select the pin icon that appears when you hover over a summary.

=== Column summary aggregation
You can modify how you would like a column summary value to be displayed by clicking the dropdown on a summary and selecting a different type of aggregation. This *aggregation* menu is also available from the Summary section in a column’s *Edit* image:icon-gear-10px.png[edit icon] panel. For measures, the available aggregations are `total`, `average`, `standard deviation`, `variance`, `min`, and `max`. For attributes, the available aggregations are `unique count` and `total count`.

=== Table aggregate summary
The Table Aggregate summary appears when you use an aggregate function either through a formula or a search bar query, such as average of a measure. It recalculates the function for the entire table. In such cases, the Table Aggregate summary appears by default, instead of the “Avg” option, which does a second level of aggregation on top of the existing aggregation.

In the following example, the table aggregate is a result of the Average Revenue formula `sum ( revenue ) / count ( ship mode )`, which divides the total profit of each ship mode by the sum total count for that ship mode. ThoughtSpot recalculates that function for the entire table, taking the sum total profits of all ship modes and dividing it by the sum total count of all ship modes. Here, that results in a table aggregate average profit of 3.61M. The `average` summary option, by comparison, sums the average revenue for all ship modes and divides it by the number of ship modes (8), providing a less accurate average.

image::table-aggregate-summary.png[Table aggregate summary]
