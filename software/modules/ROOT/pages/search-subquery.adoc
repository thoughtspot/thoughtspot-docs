= Subquery search (in keyword)
:last_updated: 11/17/2020
:experimental:
:linkattrs:
:page-aliases: /complex-search/in-keyword-searches.adoc

You can use the IN keyword to complete a nested search

Beginning with version 5.2 of ThoughtSpot, you no longer need a View when you want to do a search on top of another search, commonly known as a subquery.
You can use the `IN` keyword instead.

image::in_search_bar_example.png[]

Suppose you must narrow a result set based on criteria defined using a search.
For example:

Find the top 5 stores by sales in the bakery department

Then you want to see all sales across all departments for those five stores.

In past versions,  you'd have two options:

. Do your first search to find top 5 stores by bakery sales and save it as a View.
Then join the view to your worksheet and search both together to get your answer.
+
This approach gives a dynamic result that's computed on the fly each time, but it require the Can Manage Data privilege and requires multiple steps.

. Save the names of the five stores with the most bakery sales and use them as a filter in a new search.
+
This approach is easy to accomplish for ad hoc searches, but doesn't compute dynamically.

Now you can do this analysis in a single search using the "in" keyword.
This provides the benefit of computing the answer dynamically without the extra steps required when using a view.

== The "in" keyword

include::partial$keywords-in.adoc[]

== Create an IN search

. Start a new search.
. Run the search you plan to use for the `in` clause.
That is, the first level search.
+
Check that the result is what you're looking for.
+
image::in-search-first-step-2020.png[]

. Copy that search, and paste it into your new search as the `in` clause.
+
image::in-search-example-2020.png[]

'''
> **Related information**
>
> * xref:keywords.adoc[Keyword reference]
> * xref:search-time.adoc[]
> * xref:search-growth.adoc[Search using growth over time]
> * xref:search-proximity.adoc[Geographical proximity keywords "near" and "farther than]