= 7.0 Release Notes
:experimental:
:last_updated: 06/06/2021
:linkattrs:
:page-aliases: /release/notes.adoc


ThoughtSpot version 7.0.1 CU1 is now available. These release notes include information about new and enhanced features.

To see our feature deprecation plans, please see xref:deprecation.adoc[].

For a complete list of issues that we fixed in this release, see xref:fixed.adoc#releases-7-0-x[Fixed issues].

NOTE: Self-service upgrade is not supported for upgrade to version 7.0.1 CU1.

* <<new-7-0-1,7.0.1 New Features and Functionality>>
* <<upgrade-paths,Supported Upgrade Paths>>

[#new-7-0-1]
== 7.0.1 New Features and Functionality

For a complete list of issues that we fixed in this release, see xref:fixed.adoc#releases-7-0-x[Fixed issues].

Here are the most significant new features and improvements in the 7.0.1 Software Release:

* <<analyst-7-0-1,For the Analyst>>
* <<business-user-7-0-1,For the Business User>>
* <<data-engineer-7-0-1,For the Data Engineer>>

[#analyst-7-0-1]
=== For the Analyst

[#search-assist-coach]
Search Assist Coach::
xref:search-assist-coach.adoc[Search Assist Coach] enables Analysts, or anyone who has *edit* access to a Worksheet, to create xref:search-assist.adoc[Search Assist] sample queries based on their company’s data. This gives all users the opportunity to experience onboarding and training on data that is relevant to their work, and specific to their line of business.

[#business-user-7-0-1]
=== For the Business User

[#search-assist]
Search Assist::
xref:search-assist.adoc[Search Assist] introduces new users to ThoughtSpot’s Search experience by walking them through simple search scenarios on your company’s data. It demonstrates how anyone can get answers to their data questions by typing in the Search bar. Worksheet owners can use xref:search-assist-coach.adoc[Search Assist Coach] to create these sample search queries on your company’s data.


[#search-on-enter]
Search on enter experience::
The default search experience is now *Search on enter*. This means that you can add new tokens to the search bar, or remove them, without altering your existing search, until you press the *Enter* key on your keyboard, or select *Go* to the right of the search bar.
+
You may need to press *Enter* or *Go* to ensure that ThoughtSpot updates your search with any new items in the search bar.
+
image::search-on-enter.gif[Search on enter]


[#data-engineer-7-0-1]
=== For the Data Engineer

[#embrace-7-0-1]
Embrace::
Embrace now supports Databricks [.label.label-beta]#Beta#. Because this feature is in Beta, it is disabled by default. To enable Databricks, contact https://community.thoughtspot.com/customers/s/contactsupport[ThoughtSpot Support^].

[#saml-mail-field]
SAML configuration::
  When configuring SAML authentication for ThoughtSpot, it is now mandatory to map the `mail` attribute in the IDP metadata file to the email address of the user. If your company cannot meet this requirement, contact https://community.thoughtspot.com/customers/s/contactsupport[ThoughtSpot Support^]. For more information, refer to xref:saml.adoc[Configure SAML], specifically to xref:saml.adoc#saml-configure-2[Configure SAML 2.0].

[#new-7-0]
== 7.0 New Features and Functionality

Here are the most significant new features and improvements in the 7.0.0 Software Release:

* <<analyst-7-0,For the Analyst>>
* <<business-user-7-0,For the Business User>>
* <<data-engineer-7-0,For the Data Engineer>>
* <<it-ops-engineer-7-0,For the IT Ops Engineer>>

[#analyst-7-0]
=== For the Analyst

[#scriptability]
Scriptability enhancements::
There are several enhancements to the xref:scriptability.adoc[] feature:

Export custom SpotApps:::
You can now export your own custom SpotApps, or collections of Scriptable ThoughtSpot Answers, Pinboards, SpotIQ results, Views, tables, and Worksheets, packaged together as a zip file. Simply navigate to *Data > SpotApps* and choose the objects you would like to include in a custom SpotApp. Refer to xref:app-templates.adoc[].
Add tables and columns to an Embrace connection:::
ThoughtSpot now allows you to use TML to edit tables created through xref:embrace.adoc[], and add columns and tables that already exist in the external database to the connection. Refer to xref:tml.adoc#syntax-tables[ThoughtSpot Modeling Language] and specify the *connection* information when adding tables or table columns to an Embrace connection.
GUID handling:::
ThoughtSpot now recognizes pre-existing GUIDs on import, and asks if you would like to update the existing object or create a new one. Refer to xref:scriptability.adoc[].
Improvements to generic join functionality [.label.label-beta]#Beta#:::
The expanded functionality for generic joins in TML files allows the following elements:
+
Constants:;; `int`, `double`, `bool`, `date`, and `string`
Comparison operators:;; `=` (equal), `!=` (not equal), `+++&lt;+++` (less than), `+++&gt;+++` (greater than), `+++&lt;+++=` (less than or equal), and `+++&gt;+++=` (greater than or equal)
Columns;;;
Boolean operators:;;; `AND` and `NOT`

+
This feature is on by default.

Joins at the table level:::
You can now create and edit joins at the table level using TML, including range and generic joins. You must edit these joins from the source table, not the destination table. Refer to xref:tml.adoc[]
Support for selective and linked filters:::
You can now import, export, and update pinboards with xref:pinboard-filters-linked.adoc[linked] or xref:pinboard-filters-selective.adoc[selective] filters.

[#join-ui]
Join creation interface::
We improved the join workflows to support adding and updating joins on tables, worksheets, and views. See xref:join-add.adoc[] and xref:relationship-create.adoc[].

////
[Join a table, View, or Worksheet to another data source].
////

[#chasm-trap]
Show underlying data for chasm traps::
ThoughtSpot supports showing underlying data for searches based on schemas with chasm traps by default. If you do not want to show underlying data for schemas with chasm traps, contact {support-url}.

[#business-user-7-0]
=== For the Business User

[#geomaps]
Geo map support::
We added support for states and state abbreviations, and also postal codes, for Mexico. See xref:geomap-reference.adoc#mexico[Geo Map reference].

[#data-engineer-7-0]
=== For the Data Engineer

[#embrace]
Embrace::

Passthrough functions:::
Embrace passthrough functions are available for all Embrace connections. Passthrough functions allow you to send custom SQL expressions directly to your cloud data warehouse without being interpreted by ThoughtSpot. For more information, see xref:embrace-passthrough.adoc[] and xref:formula-reference.adoc#passthrough-functions[Passthrough function reference].

SAP HANA [.label.label-update]#Update#:::
Support for SAP HANA in Embrace is now GA. For more information, see xref:embrace-hana.adoc[SAP HANA].

Security passthrough [.label.label-beta]#Beta#:::
Embrace now supports security passthrough for Google BigQuery connections, using OAuth for authentication and authorization. This feature is disabled by default. To enable it, contact https://community.thoughtspot.com/customers/s/contactsupport[ThoughtSpot Support^].

Oracle Autonomous Database :::
Support for Oracle Autonomous Database (ADW) is now GA. For more information, see xref:embrace-adw.adoc[Oracle Autonomous Data Warehouse].

[#dataflow]
DataFlow::

Exadata database :::
See xref:dataflow-exadata.adoc[].
Greenplum database :::
See xref:dataflow-greenplum.adoc[].
Memsql database :::
See xref:dataflow-memsql.adoc[].
Splunk file system :::
See xref:dataflow-splunk.adoc[].

Remote files [.label.label-update]#Update#:::
When connecting to remote files, DataFlow now supports the ORC and JSON file formats. See xref:dataflow-files.adoc[].
+
Connections for remote files support several new xref:dataflow-files-sync.adoc#file-format[file formats]; in addition to  *Delimited*, we have support for *Parquet*, *JSON* , *LDJSON* [.label.label-beta]#Beta#, and *ORC* .

Utilities:::
DataFlow includes support for utilities to configure SSL, so you can securely connect to the following source systems:
xref:dataflow-sql-server-utilities.adoc[SQLServer], xref:dataflow-databricks-delta-lake-utilities.adoc[Databricks Data Lake], xref:dataflow-postgresql-utilities.adoc[PostgreSQL],xref:dataflow-ibm-db2-utilities.adoc[IBM Db2], xref:dataflow-greenplum-utilities.adoc[Greenplum], xref:dataflow-oracle-utilities.adoc[Oracle], and xref:dataflow-teradata-utilities.adoc[Teradata].

Home page:::
The DataFlow Home dashboard now shows both the historical and upcoming syncing information. It also supports search by table name. See xref:dataflow-home.adoc[DataFlow home].

Custom SQL:::
All DataFlow database connections (as listed in xref:dataflow-databases.adoc[]) support retrieving data through a custom SQL expression.

Tips:::
The new xref:dataflow-tips.adoc[DataFlow Tips] section explains how to:
+
xref:dataflow-tips.adoc#truncate-table[Truncate a table];; Truncates the tables during syncs, instead of deleting.
xref:dataflow-tips.adoc#epochs[Epoch date and timestamp options];; Use epoch format in pre- and post-sync TQL scripts (`$$CurrentDateEpochAdd` and `$$CurrentTimestampEpochAdd` parameters).
xref:dataflow-tips.adoc#last-sync[Track the last sync start time];; Use the `$$LastSyncStartTime` parameter in custom formulas.

Administration:::
The Administration interface lets you configure the xref:dataflow-configuration-options.adoc#dataflow-staging-directory[staging directory] and xref:dataflow-configuration-options.adoc#dataflow-allowed-paths[allowed paths] for data files. See dataflow-configuration-options.adoc[Configure DataFlow server].

[#it-ops-engineer-7-0]
=== For the IT Ops Engineer

[#rhel]
RHEL ease of installation::
This release of ThoughtSpot makes it easier to deploy ThoughtSpot on an xref:rhel.adoc[RHEL image]. You can now enable SELinux when deploying ThoughtSpot on RHEL. If you enable SELinux, ensure that you install the xref:rhel-packages.adoc[yum] `setroubleshoot` package.

[#oel]
Oracle Enterprise Linux (OEL) support::
This release of ThoughtSpot introduces deployment support for Oracle Enterprise Linux. This decouples the OS and application files we shipped together in previous releases, and gives you the flexibility to run ThoughtSpot on an OEL image that your organization manages internally.
+
ThoughtSpot certifies OEL version 7.9 on AWS, GCP, and VMware. To deploy ThoughtSpot on OEL, you must have the Ansible tarball; you can obtain the tarball through your ThoughtSpot contact. For more information, see the xref:rhel.adoc[] guide.

[#security-logs]
New security logs::
This release of ThoughtSpot enables your security team to collect security audit events based on user activity. You can view logs for the following events: *Successful login*, *Failed login*, *Locked account*, *Profile change*, *Group creation*, *Group deletion*, *User group change*, *Group modification*, *Privilege change*, *User account creation*, *User account deletion*, *Password change*, *Object creation (Pinboard or Answer)*, *Object deletion (Pinboard or Answer)*, *Object modification (Pinboard or Answer)*, and *Object sharing*.
+
To view these logs, run the xref:tscli-command-ref.adoc#tscli-logs[tscli logs collect] command.

[#cloud-vm]
New cloud VM instance types::
This release of ThoughtSpot introduces support for new cloud VM instance types for AWS and Azure. For all instance types, see the xref:aws-configuration-options.adoc[] and xref:azure-configuration-options.adoc[].
+
AWS :::
The new AWS instance types are `r5a.4xlarge`, `r5a.8xlarge`, `r5a.12xlarge`, `r5a.16xlarge`, and `r5a.24xlarge`.

Azure:::
The new Azure instance type is `D64s_v4`.

[#azure-disk-encryption]
Azure Disk Encryption::
ThoughtSpot now supports https://docs.microsoft.com/en-us/azure/virtual-machines/linux/disk-encryption-overview[Azure Disk Encryption (ADE)^] for clusters running on an RHEL image in Azure. Azure Disk Encryption provides volume encryption for both the OS and data disks of Azure virtual machines (VMs).
+
To configure Azure Disk Encryption for your cluster(s), contact https://community.thoughtspot.com/customers/s/contactsupport[ThoughtSpot Support^].

[#upgrade-paths]
== Supported Upgrade Paths

If you are running one of the following versions, you can upgrade to the 7.0.1 CU1 release directly:

* 6.2.x to 7.0.1 CU1
* 6.3.x to 7.0.1 CU1

This includes any hotfixes or customer patches on these branches.

If you are running a different version, you must do a multiple pass upgrade.
First, upgrade to version 6.2.x, or 6.3.x, and then to the 7.0.1 CU1 release.

NOTE: To successfully upgrade your ThoughtSpot cluster, all user profiles must include a valid email address. Without valid email addresses, the upgrade is blocked.
