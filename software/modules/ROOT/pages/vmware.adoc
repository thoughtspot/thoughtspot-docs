= VMware configuration overview
:last_updated: 5/21/2020
:experimental:
:page-aliases: /appliance/vmware/vmware-intro.adoc
:linkattrs:

You can host ThoughtSpot on VMware.

This section is an overview of the ThoughtSpot AI-Driven analytics platform hosted on the VMware vSphere Hypervisor (ESXi) 6.5 environment.

== About ThoughtSpot in VMware

The VMware virtualization platform provides highly scalable and efficient memory and CPU resources management that can be used by ThoughtSpot instances.
Additionally, the VMware virtualization environment is an easy transition between development and production environments.
The following diagram shows the components of a VMware and ThoughtSpot architecture:

image::vmware-components.png[]

NOTE: This is a generic representation.
ThoughtSpot supports deployment on its CentOS-based image, or an RHEL 7.8 or 7.9 image that your organization manages internally.

Your database capacity will determine the number of ThoughtSpot instances and the instance network/storage requirements.
In addition, you can scale your ThoughtSpot VMs as your dataset size grows.

[#supported-configurations]
== Supported configurations

ThoughtSpot Engineering has performed extensive testing of the ThoughtSpot platform in VMware for the best performance, load balancing, scalability, and reliability.
Based on this testing, ThoughtSpot recommends the following _minimum specifications_ for an individual VMware ESXi guest machine.

When choosing an instance type, ensure that it uses Intel CPUs.

:table-caption!:
.Supported VMware configurations: Recommended capacity and volume, based on user data capacity, on a "per VM" basis
[cols="20h,20,20,~",options="header"]
|===
| User data capacityfootnote:pvm[per VM] | CPU/RAM | Data disk | Required boot volumefootnote:pvm[]
| 20 GB | 16/128 GB | 2 x 400 GB | 200 GB for each node
| 100 GB | 32/256 GB | 2 X 400 GB | 200 GB for each node
| 256 GB | 72/512 GB | 3 X 2 TB | 200 GB for each node
|===

NOTE: All cores must be hyperthreaded. All configurations require a 200 GB SSD boot disk.

For most instances, the per VM recommended user data capacity is set at 50% of the available RAM on the instance.
However, in the case of our 16CPU/128GB RAM and 32CPU/256GB RAM instances, we support user data sizes below those numbers to budget for application overhead.

Locally-attached storage provides the best performance.

SAN can be used, but must comply with the following requirements:

Random read bandwidth:: 136 MBps minimum
Seek latency:: 240 random IOPS (~4ms)

ThoughtSpot does not support NAS/NFS because its latency is very high, and it tends to be unreliable.

All virtualization hosts should have VMware vSphere Hypervisor (ESXi) 6.5 installed.

ThoughtSpot provides an OVA file that contains a VMware template (OVF) and a VMDK (Virtual Machine Disk) file for configuring a VM.
VMDK is a file format that describes containers for virtual hard disk drives to be used in virtual machines like VMware Workstation or VirtualBox.
OVF is a platform-independent, efficient, extensible, and open packaging distribution format for virtual machines.

The ThoughtSpot VM configuration uses thin provisioning and sets the recommended reserved memory, among other important specifications.
You can obtain these files from https://community.thoughtspot.com/customers/s/contactsupport[ThoughtSpot Support^].
