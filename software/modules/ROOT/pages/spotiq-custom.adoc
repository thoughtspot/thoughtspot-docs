= Custom SpotIQ analysis
:last_updated: 02/12/2021
:linkattrs:
:experimental:
:page-partial:
:page-aliases: /spotiq/customization.adoc

Learn how to customize SpotIQ analysis.

Everywhere in ThoughtSpot where you can run *SpotIQ analyze*, you can configure a customized SpotIQ analysis.
The customized analysis can be a one-time customization or can apply to all future analysis of that particular data source.

== Finding customization controls

Every menu or location where you can run *SpotIQ analyze*, you can customize your analysis.
You access it using the lightbulb button image:icon-lightbulb.png[more options menu icon] or the ellipses menu image:icon-ellipses.png[SpotIQ analyze icon].

image::spotiq-menu-items.png[]

Regardless of where you run *SpotIQ analyze* in ThoughtSpot, the *SpotIQ* window has the same layout.
The columns displayed, though, are specific to the data from which you run *SpotIQ analyze*.

image::spotiq-customize-analysis-include.png[]

This window has two tabs:

* *Columns*, where you can explicitly indicate which columns to include in a SpotIQ analysis.
(You can select all, some, or none.)
* *Advanced*, where you can run custom analyses and incorporate R scripts [.label.label-dep]#Deprecated 7.1.1# into SpotIQ.

The *Advanced* tab has many options.
The panel scrolls, so more algorithms are available than appear in the following image

image::spotiq-customize-algorithms.png[]

The *SpotIQ* insights page has an option to open this window to customize a single analysis.

image::spotiq-customize-locations.png[]

The *Tell us more* window provides information on how to exclude a value from all future analysis.

image::spotiq-customize-improve-analysis.png[]

You can set SpotIQ customization parameters in your xref:spotiq-preferences.adoc[SpotIQ preferences], along with options for email notifications when analyses run:

Eliminate null values::
  Null values should be eliminated from your analysis.
  From next analysis;; In the *Search* bar, add a filter `column!= Null` to the search bar. Or choose *Exclude null values from current analysis*, using the *Advanced* panel.
  From future analyses;; Set *Exclude null values from my analysis* on your user *Profile* to exclude them from any future SpotIQ analyses you do.

Exclude uninteresting column(s) in insight::
  You should always exclude columns you are not interested from your analysis.
  From next analysis;; Use the *EXCLUDE* option of *SPOTIQ PREFERENCE* under the *DATA* tab to exclude any column permanently from all future analysis.
  From future analyses;; Not applicable.

Include an interesting column::
  You can always include columns that interest you in your analysis.
  From next analysis;; Choose *Customize analysis* and select columns that you want to include.
  From future analyses;; Ensure *Index Priority* is between 8-10 on the column under the *DATA* tab.

Remove known date outliers::
  Your data may contain known outliers.
+
For example, you are in the middle of a quarter and only want to analyze the previous quarter. Anything from the present quarter could contain an outlier.
  From next analysis;; In the *Search* bar, add a filter date< last time period to the search bar.
  From future analyses;; Not applicable.

Too few insights::
  Your SpotIQ analysis may not provide you as many insights as you think it should.
  From next analysis;; Choose *Customize analysis*, select the *Advanced tab*, and decrease the *Multiplier for Outlier Detection* to a value closer to zero.
  From future analyses;; Not applicable;;

== Explaining Anomaly Insights

When SpotIQ finds insights with anomaly points, you have the option to run the Explain Insight command to have SpotIQ do further analysis on the anomaly points.

image::spotiq-explain-insight-1.png[]

To explain an insight, do the following:

. Click the *More* menu icon image:icon-ellipses.png[more options menu icon] for the insight you want to explain and select *Explain insight*.
. In the SpotIQ window, click *Analyze*.
+
Analysis begins.

. Click *SpotIQ* in the top navigation bar.
. Click the *Analyses* tab.
. Find the name of the insight that you analyzed and click *View Results*.
+
The results of your insight analysis explaining your anomaly points appear.
+
image::spotiq-explain-insight-2.png[]

NOTE: *Explain insight* does not work with Trend Analysis or Cross Correlation Analysis.
