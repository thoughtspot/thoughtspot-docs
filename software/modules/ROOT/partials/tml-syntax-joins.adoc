== Join syntax

The syntax and functionality of joins in the table TML file differs from the syntax and functionality for Worksheet and View TML files.

When you edit the information in the <<joins,joins>> section of the TML for a Worksheet or View, you override the table join(s) from the table the Worksheet or View comes from. However, you only override the join(s) for the specific Worksheet or View you are editing, *not* for the source table.

When you edit the information in the <<joins_with,joins_with>> section of the TML for a table, you edit the join information for the source table, the destination table, and any dependents, such as Worksheets and Views. Note that you can only edit joins for which the table is the source table.

=== Worksheet and View join syntax

For Worksheets and Views, the join syntax is the following:

[subs=+macros]
....
<<joins,joins>>:
- <<name,name>>: <join_name_1>
  <<source,source>>: <source_table_name>
  <<destination,destination>>: <destination_table_name>
  <<type,type>>: [RIGHT_OUTER | LEFT_OUTER | INNER | OUTER]
  <<on,on>>: <join_expression_string>
  <<is_one_to_one,is_one_to_one>>: [ false | true ]
<<table_paths,table_paths>>:
- <<id,id>>: <table_path_name_1>
  <<table,table>>: <table_name_1>
  <<join_path,join_path>>:
  - {}
....

=== Worksheet and View join functionality and Limitations

With Worksheet and View joins, you can accomplish the following tasks:

- Add new joins at the Worksheet or View level
- Modify existing joins at the Worksheet or View level
- Delete existing joins at the Worksheet or View level

Worksheet and View joins have the following limitation:

- You cannot modify joins at the table level from the Worksheet or View TML file. You can only override the joins for that specific Worksheet or View.

=== Table join syntax

[subs=+macros]
....
<<joins_with,joins_with>>:
- <<name,name>>: <join_name_1>
  <<description,description>>: <optional_join_description_1>
  <<destination,destination>>:
    <<name,name>>: <destination_table_name_1>
    <<fqn,fqn>>: <optional_table_guid_1>
  <<on,on>>: <join_expression_string_1>
  <<type,type>>: [RIGHT_OUTER | LEFT_OUTER | INNER | OUTER]
  <<is_one_to_one,is_one_to_one>>: [ false | true ]
  <<name,name>>: <join_name_2>
  <<name,name>>: <join_name_n>
....

=== Table join functionality and limitations

With table joins, you can accomplish the following tasks:

- Add new joins at the table level. Joins only appear in the table TML file of the source table in a join, or the table on the Many side of a Many to One join. You can only add and edit table joins from the TML file of the table on the Many side of the join.
- Create generic or range joins at the table level. Previously, you could only create non-generic joins through the TML, such as `Table1.date = Table2.date`. Now, you can create generic joins through the TML, such as `Table1.date = Table2.date AND Table1.date > Table2.start_date AND Table1.date < Table2.end_date`.
+
Note that you must have an 'equals' clause before you can have a 'greater than/less than' clause. `Table1.date = Table2.date AND Table1.date > Table2.start_date AND Table1.date < Table2.end_date` is valid, but `Table1.date < Table2.end_date` is not.
+
Joins only appear in the table TML file of the source table in a join, or the table on the Many side of a Many to One join. You can only add and edit table joins from the TML file of the table on the Many side of the join.

- Edit existing joins by changing the name of the join and modifying it to your specifications. Changing the name of the join creates a new join; you must then delete the old join in the UI. Joins only appear in the table TML file of the source table in a join, or the table on the Many side of a Many to One join. You can only add and edit table joins from the TML file of the table on the Many side of the join.

Table joins have the following limitations:

- You cannot delete a join by removing it from the TML. You must delete it through the UI.
- You cannot directly edit an existing join; you must rename it, edit it to your specifications, and then delete the old join the UI.
- Renaming a join creates a new join with that name and does not delete the old join with the original name.
- When creating generic or range joins, you must have an 'equals' clause before you can have a 'greater than/less than' clause. `Table1.date = Table2.date AND Table1.date > Table2.start_date AND Table1.date < Table2.end_date` is valid, but `Table1.date < Table2.end_date` is not.

=== Generic joins

The functionality for generic joins in TML files allows the following elements:

- Constants: int, double, bool, date, and string
- Comparison operators: `=`, `!=`, `<`, `>`, `<=`, and `>=`
- Columns
- Boolean operators: `AND`, `OR`, and `NOT`
